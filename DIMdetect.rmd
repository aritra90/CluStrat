--------------------------------------------------------------------------
Background
--------------------------------------------------------------------------

The goal of the project is to explore a variety of machine learning methods
that can properly distinguish cases from controls in regards to a particular
disease/disorder given genetic data.

As we know, this was the main goal when GWAS studies were being developed.
However, the novel finding of ancestry inference from these studies was
found and explored instead.

We want to find a sophisticated 'method X' that is robust amongst different datasets with
the hope that the method would be able to work well within the same disease
domain (e.g. neurological).

Within the first couple of axes from PCA lie the geographical information that
is encoded in our genetics. This is why GWAS studies have focused on the ancestry.
However, there are axes in the PCA result that infer disease but of course they are
much more difficult to find and interpret.

--------------------------------------------------------------------------
PreReqs
--------------------------------------------------------------------------

>> module load gcc bioinfo plink texlive

The PLINK format files for the particular dataset that you are using are needed.

--------------------------------------------------------------------------
The Files
--------------------------------------------------------------------------

**Running the file**
>> python DIMdetect2.py -tr $trainset -te $testset -pf $prefix -cl $type -cv $crossval -pval $value -knel $knelval

**e.g.**
>> python DIMdetect2.py -tr Parkinsons_trainset -te Parkinsons_testset -pf PRK -cl Ridge -cv kfold -pval 100000 -knel 1

**Arguments**

"-tr" flag is for the prefix of the PLINK format training data (possibly generated by using the bose_splitdata script).
For example, if the training data has files "Parkinsons_trainset.bed", "Parkinsons_trainset.bim", "Parkinsons_trainset.fam",
and "Parkinsons_trainset.log" then the value for "$trainset" would be "Parkinsons_trainset".

"-te" flag is for the prefix of the PLINK format testing data (see description above).

"-pf" flag is for the prefix of the output tables generated at the end (up to you what it is); "PRK" for example.

"-cl" flag is for the classifier type to use. The options are the following:

Class Options = [LDA,QDA,PolyReg,Ridge,Lasso,Elastic,SVM,SVR,kSVM,RidgeSVM,RFESVM,RandomForest]

Multiple options can be placed in a list in bash if looping through many different classes (see example script).

"-cv" flag is for the crossvalidation type. The current options are either "kfold" or "loocv".

"-pval" flag is the number of markers/SNPs that are in the dataset used for output generation (table generation).

"-knel" flag is for the type of kernel. "0" for no kernel, "1" for weighted linear kernel and "2" for Mahalanobis kernel.
More options may be added later on.

**Other files**

The files below are imported in "DIMdetect2.py" and help compartmentalize the functionality of the software.

**parseplink.py**
This file is called when loading in the data and converting the PLINK data into matrices the code can work with.

**kernelize.py**
This file is called when doing the weighted linear kernel. This file computes the weights and "kernelizes" the training and test data.

**mahalanobis.py**
This file is called when doing the Mahalanobis kernel. This file computes the Mahalanobis distance and "kernelizes" the training and test data.

**crossvalidation.py**
This file is called when doing the cross-validation and returns the best parameters for the corresponding classifier.

**classificationGWAS.py**
This file is called to do the classification.

**outputgenerator.py**
This file is called to compute the output (various tables for the the accuracies, f1 scores, parameters etc. will be generated for plots.)


**Cleaning**
>> ./clean.sh

This script will remove most of the output files generated by the scripts just to clear clutter.

One can add any files to this list as they see fit.

--------------------------------------------------------------------------
Design Decisions and Issues
--------------------------------------------------------------------------
4/11/2019:
Current errors (besides algorithm-specific errors documented in prior ReadMes), consist of ill-conditioned
matrices in the kernels that are computed. This is a result of singular matrices and I have currently
addressed it by adding Gaussian noise but that may be something that is changed in the future.
